(()=>{"use strict";var e={192:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,'*{padding:0;margin:0;font-family:"Sans"}body{background-color:#000}select,.filename,.switch{display:inline-block;box-sizing:content-box;height:11px;width:70px;margin-left:2px;padding:2px;background-color:#303030;font-weight:500;font-size:10px;border:1px solid #000;color:#fff;vertical-align:middle;overflow:hidden}.number_box{display:inline-block;box-sizing:content-box;height:11px;width:70px;margin-left:2px;padding:2px;background-color:#303030;font-weight:500;font-size:10px;border:1px solid #000;color:#fff;vertical-align:middle;overflow:hidden;cursor:grab;-moz-appearance:textfield}.number_box::-webkit-outer-spin-button,.number_box::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.switch{width:50px;height:15px;user-select:none;padding:0}.switch input{display:none}.slider:before{position:relative;display:inline-block;content:"";height:15px;width:4px;left:0px;top:0px;background-color:#887;transition:.2s;border-right:1px solid #000;vertical-align:middle}input:checked+.slider{background-color:orange;color:#000}input:checked+.slider :before{transform:translateX(45px);border-left:1px solid #000;border-right:none}.track{position:relative;margin-top:1px;left:0;width:70vw;height:150px;overflow:hidden;background-color:#404038;color:#fff;animation:fadeIn .5s;z-index:0}.track .number_box{width:30px}.track .sliders_frame{position:absolute;top:21px;left:0;width:100%;height:7px;background:repeating-linear-gradient(to right, black, black 1px, #353534 1px, #353534 24px);border-top:1px solid #000;border-bottom:1px solid #000;z-index:0}.track span{margin-left:2px;font-weight:500;font-size:10px;vertical-align:middle}.track canvas{position:absolute;top:30px;left:0;z-index:0;background-color:transparent}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}.loader{top:35%;left:20%;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:30px;height:30px;transition:.2s;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.slicer{position:absolute;top:30px;height:120px;background-color:#fff;opacity:0;transition:.1s;z-index:5;border:none}.slicer :hover{opacity:.25}.slicer :active{opacity:.5}.trim_handler{position:absolute;top:22px;left:0;width:2px;height:130px;background-color:orange}.trim_handler :before{content:"";position:absolute;top:0px;left:-3px;width:0;height:0;border-top:10px solid orange;border-right:4px solid transparent;border-left:4px solid transparent}.gray_area{position:absolute;top:30px;left:0;width:0;height:120px;background-color:#000;opacity:.4;z-index:10}',""]);const i=r},611:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".nav_menu {\n    position: fixed;\n    top: 0;\n    left: 70.1vw;\n    width: 30vw;\n    height: 100vh;\n    padding: 3px;\n    background-color: #404040;\n}\n\n.nav_menu * {\n\tcolor: white;\n\tfont-weight:500;\n    font-size: 12px;\n    margin: 2px;\n}\n\n#fileloader {\n\tposition: relative;\n\tdisplay: inline-block;\n\tpadding: 5px;\n\tborder-radius: 3px;\n\tbackground-color: #2f4f4f;\n\ttransition: .2s;\n}\n\n#fileloader:hover {\n\tbackground-color: #3f5f5f;\n}\n\n#fileloader:active {\n    background-color: #4f6f6f;\n}\n\n#fileloader input[type='file'] {\n\tdisplay: none;\n}\n\n.master_volume {\n    -webkit-appearance: none;\n}\n\n.master_volume::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    width: 10px;\n    height: 10px;\n    background: blue;\n}\n",""]);const i=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);o&&r[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},379:(e,t,n)=>{var o,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function a(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var l=e[r],s=t.base?l[0]+t.base:l[0],d=n[s]||0,c="".concat(s," ").concat(d);n[s]=d+1;var u=a(c),p={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:c,updater:m(p,t),references:1}),o.push(c)}return o}function s(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,c=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var f=null,h=0;function m(e,t){var n,o,r;if(t.singleton){var i=h++;n=f||(f=s(t)),o=u.bind(null,n,i,!1),r=u.bind(null,n,i,!0)}else n=s(t),o=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=a(n[o]);i[r].references--}for(var s=l(e,t),d=0;d<n.length;d++){var c=a(n[d]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}n=s}}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{let e,t={};function o(){let e=this.parentNode.id;for(let n=0;n<t[e].numberOfChannels;n++)t[e].getChannelData(n).reverse()}function r(){const e=this.parentNode;let t=this.value;t=parseFloat(t.replace("%",""))/100,e.setAttribute("speed",t)}let i=500;function a(e){let n=1e3*(parseFloat(e.getAttribute("real_length"))||t[e.id].duration);for(;n>800;)n/=2;return n}function l(e){let t,n=document.querySelectorAll(".syncmode");e=e.classList,n.forEach((n=>{if(t=n.parentNode,"Lead"===n.value&&(this&&"Lead"===this.value&&t.id!=this.parentNode.id||e&&"set_bpm"===e[1])&&(n.value="Follow"),"Follow"===n.value){let e=a(t)/i;t.setAttribute("sync",e)}else if("Lead"===n.value){i=a(t);const e=document.querySelector(".set_bpm");this&&(e.value=6e4/i),t.setAttribute("sync",1)}else t.setAttribute("sync",1)}))}let s={};function d(){const n=this.parentNode,o=n.id,r=n.querySelectorAll(".slicer");let i=n.querySelector(".set_group").value,a=r.length,l=n.querySelector(".playstyle").value,d=n.getAttribute("rate"),c=this.getAttribute("index"),u=parseFloat(n.getAttribute("real_length")||t[o].duration),p=parseFloat(n.querySelector(".start_point").getAttribute("position")),f=parseFloat(n.querySelector(".end_point").getAttribute("position"));if(n.querySelector(".reverse").checked&&(c=Math.abs(a-1-c)),c=u*(c/a),s[i]&&s[i].stop(),s[i]=e.createBufferSource(),s[i].buffer=t[o],s[i].playbackRate.value=d,s[i].connect(e.destination),"Loop"===l)s[i].loop=!0,s[i].start(0,p+c);else{if("Slice"===l)return u/=a,void s[i].start(0,p+c,u);s[i].start(0,p+c,u)}let h,m,b,g=e.currentTime;const v=i+"_anim",x=n.querySelector(".signal_frame");r.forEach((e=>{e.style.opacity=null})),cancelAnimationFrame(window[v]),window[v]=requestAnimationFrame((function y(){if(h=e.currentTime-g+c,x.textContent=h,d=n.getAttribute("rate"),u=parseFloat(n.getAttribute("real_length"))||t[o].duration,p=parseFloat(n.querySelector(".start_point").getAttribute("position")),f=parseFloat(n.querySelector(".end_point").getAttribute("position")),s[i].playbackRate.value=d,s[i].loopStart=p,s[i].loopEnd=f,a=r.length,h>=u/d){if("Loop"!==l)return r.forEach((e=>{e.style.opacity=null})),void cancelAnimationFrame(window[v]);g=e.currentTime,h=0,c=0}m=Math.trunc(h/(u/d)*a),n.querySelector(".reverse").checked?(m=Math.abs(a-1-m),b=m==a-1?0:m+1):b=(0==m?a:m)-1,r[m].style.opacity=.35,r[b].style.opacity=null,cancelAnimationFrame(window[v]),window[v]=requestAnimationFrame(y)}))}function c(e,t){let n,o;(n=e.querySelectorAll(".slicer"))&&n.forEach((e=>{e.remove()}));let r=parseInt(e.getAttribute("shade_area"))||0,i=e.querySelector(".start_point").offsetLeft,a=(e.offsetWidth-r)/t;for(let n=0;n<t;n++)o=document.createElement("button"),o.className="slicer",o.style.width=a+"px",o.style.left=n*a+i+"px",o.setAttribute("index",n),o.addEventListener("click",d),e.appendChild(o)}function u(){c(this.parentNode,this.value)}function p(e){const t=document.createElement("span");return t.className="simple_label",t.textContent=e,t}function f(e,t,n,o){let r,i=document.createElement("select");return t.forEach((e=>{r=document.createElement("option"),r.value=e,e===o&&r.setAttribute("selected",!0),r.textContent=e,i.appendChild(r)})),i.className=e,i.addEventListener("change",n),i}function h(e,t,n,o){const r=document.createElement("input");return r.type="number",r.min=t[0],r.max=t[1],r.className="number_box",r.classList.add(e),r.value=o,r.addEventListener("mousedown",m),r.onchange=n,r}function m(e){const t=this,n=.2*e.clientY+parseFloat(t.value);let o;window.onmousemove=e=>{document.body.style.cursor="grabbing",t.style.cursor="grabbing",e.preventDefault(),o=n-.2*e.clientY,t.value=Math.min(t.max,Math.max(t.min,o)),t.onchange&&t.onchange()},window.onmouseup=()=>{document.body.style.cursor="default",t.style.cursor="grab",window.onmousemove=null,window.onmouseup=null}}function b(e){let t=document.createElement("div");return t.className="gray_area",t.style.left=e+"px",t}function g(e,t){let n=document.createElement("div");return n.className="trim_handler",n.classList.add(t),n.setAttribute("position",0),n.addEventListener("mousedown",v),n.style.left=e+"px",n}function v(){const e=this,t=e.parentNode;window.onmousemove=function(n){n.preventDefault(),e.style.left=Math.min(t.offsetWidth-2,n.clientX)+"px";let o=x(t,n.clientX);e.setAttribute("position",o),function(n){const o=t.querySelectorAll(".slicer"),r=t.querySelectorAll(".gray_area");let i=0;"gray_area"===e.previousSibling.className?e.previousSibling.style.width=n+"px":"gray_area"===e.nextSibling.className&&(e.nextSibling.style.left=n+2+"px",e.nextSibling.style.width=t.offsetWidth-n+"px"),r.forEach((e=>{i+=e.offsetWidth}));let a=t.offsetWidth-i;a=x(t,a),t.setAttribute("shade_area",i),t.setAttribute("real_length",a),l(e);let s=(t.offsetWidth-i)/o.length;o.forEach((e=>{e.style.width=s+"px",e.style.left=e.getAttribute("index")*s+t.querySelector(".start_point").offsetLeft+"px"}))}(n.clientX)},window.onmouseup=()=>{window.onmousemove=null,window.onmouseup=null}}function x(e,n){let o=n/e.offsetWidth;return o=t[e.id].duration*o,o}let y=0;function w(n){e||(e=new(window.AudioContext||window.webkitAudioContext));const i="track_#"+y,a=document.createElement("div");a.className="loader";const s=new FileReader;s.readAsArrayBuffer(n),s.onloadend=function(){e.decodeAudioData(s.result).then((e=>{t[i]=e,function(e,t){let n=t.width,o=t.height,r=t.getContext("2d"),i=n/Math.max(1,e.length);r.strokeStyle="white",r.moveTo(0,o/2);for(let t=0;t<e.length;t++)r.lineTo(t*i,(-1*e[t]+1)*(.5*o));r.stroke()}(t[i].getChannelData(0),w)}),(e=>{console.log(e),alert("Unable to load file."),a.remove()})).finally((()=>{a.remove()}))};const d=document.createElement("div");d.id=i,d.className="track";const m=document.createElement("blockquote");m.className="filename",m.textContent=n.name,d.appendChild(m),d.appendChild(f("playstyle",["OneShot","Loop","Slice"])),d.appendChild(f("syncmode",["Free","Follow","Lead"],l)),d.appendChild(function(e,t,n){let o=document.createElement("label"),r=document.createElement("input"),i=document.createElement("div");return r.type="checkbox",r.className="reverse",i.className="slider",i.textContent="Reverse",o.className="switch",o.appendChild(r),o.appendChild(i),o.addEventListener("change",n),o}(0,0,o)),d.appendChild(f("speed",["25%","50%","100%","150%","200%"],r,"100%")),d.appendChild(p("Slices: ")),d.appendChild(h("set_slices",[1,32],u,8)),d.appendChild(p("Group: ")),d.appendChild(h("set_group",[1,24],null,y+1));const v=document.createElement("span");v.style="float:right; max-width:60px",v.className="signal_frame",d.appendChild(v);const x=document.createElement("div");x.className="sliders_frame",d.appendChild(x),d.appendChild(a),document.body.appendChild(d),d.appendChild(b(0)),d.appendChild(g(0,"start_point")),d.appendChild(g(d.offsetWidth-2,"end_point")),d.appendChild(b(d.offsetWidth)),function(e){new MutationObserver((function(t,n){let o=parseFloat(e.getAttribute("speed")),r=parseFloat(e.getAttribute("sync"));for(const n of t)if("speed"===n.attributeName||"sync"===n.attributeName){let t=o*r;e.setAttribute("rate",t)}})).observe(e,{attributes:!0})}(d);const w=document.createElement("canvas");w.width=parseFloat(d.offsetWidth),w.height=parseFloat(d.offsetHeight)-30,d.appendChild(w),d.setAttribute("sync",1),d.setAttribute("rate",1),d.setAttribute("speed",1),c(d,8),y+=1}const k=document.querySelector(".nav_menu");k.appendChild(p("BPM: ")),k.appendChild(h("set_bpm",[30,600],(function(){let e=6e4/this.value;i=e,l(this)}),120)),k.appendChild(function(e,t,n,o,r){let i=document.createElement("label"),a=document.createElement("input");return a.className="master_volume",a.type="range",a.min=n[0],a.max=n[1],a.value=100,i.textContent="Master",i.appendChild(a),i.addEventListener("input",null),i}(0,0,[0,100]));var C=n(379),_=n.n(C),A=n(192);_()(A.Z,{insert:"head",singleton:!1}),A.Z.locals;var E=n(611);_()(E.Z,{insert:"head",singleton:!1}),E.Z.locals,document.getElementById("fileloader").addEventListener("change",(e=>{let t=e.target.files;t=[...t],t.forEach(w)})),window.addEventListener("dragover",(function(e){e.preventDefault()}),!1),window.addEventListener("drop",(function(e){e.preventDefault();let t=e.dataTransfer.files;t=[...t],t.forEach(w)}),!1)})()})();
